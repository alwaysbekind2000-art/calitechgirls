<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checkout â€” Keke's International Food Spot</title>

<!-- PWA Meta Tags -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#D4A017">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Keke's International">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&family=Dancing+Script:wght@600;700&family=Montserrat:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<!-- Square Web Payments SDK (Sandbox) -->
<script src="https://web.squarecdn.com/v1/square.js"></script>

<style>
:root {
  --gold: #D4A017;
  --gold-light: #F5D76E;
  --gold-dim: rgba(212,160,23,0.15);
  --red: #8B1A1A;
  --red-fire: #FF4500;
  --cream: #FFF8E7;
  --dark: #0a0005;
  --brown: #150008;
  --green: #2ecc71;
}
* { margin:0; padding:0; box-sizing:border-box; }
body { background:var(--dark); color:var(--cream); font-family:'Montserrat',sans-serif; min-height:100vh; overflow-x:hidden; }

/* FIRE PARTICLES */
#particles { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:0; overflow:hidden; }
.ember {
  position:absolute;
  width:3px; height:3px;
  border-radius:50%;
  animation:emberRise linear infinite;
  opacity:0;
}
@keyframes emberRise {
  0%   { opacity:0; transform:translateY(100vh) translateX(0) scale(0.5); }
  10%  { opacity:1; }
  50%  { transform:translateY(40vh) translateX(var(--drift)) scale(1); }
  90%  { opacity:0.2; }
  100% { opacity:0; transform:translateY(-50px) translateX(var(--drift)) scale(0.3); }
}

/* NAV */
.main-nav {
  position:fixed; top:0; left:0; right:0; z-index:1000;
  background:rgba(10,0,5,0.96); backdrop-filter:blur(20px);
  border-bottom:1px solid rgba(212,160,23,0.18);
  padding:0 30px; display:flex; align-items:center; justify-content:space-between; height:65px;
}
.nav-logo { font-family:'Dancing Script',cursive; font-size:1.5rem; color:var(--gold); text-decoration:none; text-shadow:0 0 20px rgba(212,160,23,0.5); }
.nav-links { display:flex; gap:4px; }
.nav-links a { color:rgba(255,248,231,0.6); text-decoration:none; font-size:0.6rem; letter-spacing:1.5px; text-transform:uppercase; font-weight:600; padding:6px 10px; border-radius:4px; transition:all 0.2s; white-space:nowrap; }
.nav-links a:hover, .nav-links a.active { color:var(--gold); background:rgba(212,160,23,0.08); }
.nav-back-btn { padding:10px 20px; background:linear-gradient(135deg,var(--red),#c0392b); color:var(--cream); font-size:0.6rem; letter-spacing:2px; text-transform:uppercase; border:none; border-radius:30px; cursor:pointer; text-decoration:none; font-family:'Montserrat',sans-serif; font-weight:700; box-shadow:0 5px 20px rgba(139,26,26,0.5); transition:all 0.3s; white-space:nowrap; }
.nav-back-btn:hover { transform:translateY(-2px); box-shadow:0 8px 28px rgba(255,69,0,0.5); }

/* HERO */
.checkout-hero { padding:110px 20px 30px; text-align:center; position:relative; z-index:1; }
.checkout-hero h1 { font-family:'Playfair Display',serif; font-size:clamp(2rem,5vw,3rem); color:var(--gold); margin-bottom:8px; text-shadow:0 0 40px rgba(212,160,23,0.4); }
.checkout-hero p { color:rgba(255,248,231,0.55); font-size:0.85rem; letter-spacing:2.5px; text-transform:uppercase; }

/* SQUARE BANNER */
.square-banner {
  max-width:900px; margin:0 auto 28px; padding:14px 26px;
  background:linear-gradient(135deg,rgba(212,160,23,0.1),rgba(255,69,0,0.06));
  border:1px solid rgba(212,160,23,0.35); border-radius:12px;
  display:flex; align-items:center; gap:14px; justify-content:center;
  position:relative; z-index:1;
  animation:pulseGold 2.5s ease-in-out infinite;
}
@keyframes pulseGold { 0%,100%{border-color:rgba(212,160,23,0.35)} 50%{border-color:rgba(212,160,23,0.8);box-shadow:0 0 20px rgba(212,160,23,0.2)} }
.sq-badge { background:linear-gradient(135deg,var(--gold),var(--gold-light)); color:var(--dark); padding:5px 14px; border-radius:20px; font-size:0.62rem; font-weight:800; letter-spacing:2px; text-transform:uppercase; }
.sq-text { color:var(--gold); font-size:0.82rem; font-weight:600; }

/* GRID LAYOUT */
.checkout-grid { max-width:1100px; margin:0 auto; padding:0 20px 80px; display:grid; grid-template-columns:1fr 400px; gap:28px; position:relative; z-index:1; }
@media(max-width:900px){ .checkout-grid{grid-template-columns:1fr} }

/* CARDS */
.card { background:rgba(21,0,8,0.75); border:1px solid rgba(212,160,23,0.12); border-radius:16px; padding:28px; margin-bottom:20px; backdrop-filter:blur(10px); }
.card:hover { border-color:rgba(212,160,23,0.22); }
.card-title { font-family:'Playfair Display',serif; font-size:1.15rem; color:var(--gold); margin-bottom:18px; display:flex; align-items:center; gap:10px; }
.card-title span { font-size:1.25rem; }

/* DELIVERY TOGGLE */
.delivery-toggle { display:flex; background:rgba(255,255,255,0.04); border-radius:50px; padding:5px; margin-bottom:22px; border:1px solid rgba(212,160,23,0.12); }
.toggle-btn { flex:1; padding:12px; border:none; background:transparent; color:rgba(255,248,231,0.45); font-family:'Montserrat',sans-serif; font-size:0.78rem; font-weight:700; letter-spacing:1.5px; text-transform:uppercase; cursor:pointer; border-radius:40px; transition:all 0.3s; }
.toggle-btn.active { background:linear-gradient(135deg,var(--red-fire),#c0392b); color:var(--cream); box-shadow:0 5px 20px rgba(255,69,0,0.35); }

/* FORM */
.form-group { margin-bottom:14px; }
.form-label { display:block; font-size:0.62rem; letter-spacing:2px; text-transform:uppercase; color:rgba(212,160,23,0.7); margin-bottom:7px; }
.form-input { width:100%; padding:13px 15px; background:rgba(255,255,255,0.04); border:1px solid rgba(212,160,23,0.14); border-radius:10px; color:var(--cream); font-family:'Montserrat',sans-serif; font-size:0.88rem; transition:all 0.3s; }
.form-input:focus { outline:none; border-color:var(--gold); background:rgba(212,160,23,0.06); box-shadow:0 0 12px rgba(212,160,23,0.1); }
.form-input::placeholder { color:rgba(255,248,231,0.22); }
.form-row { display:grid; grid-template-columns:1fr 1fr; gap:12px; }
textarea.form-input { resize:vertical; min-height:80px; }
#address-section { overflow:hidden; transition:max-height 0.4s ease, opacity 0.3s ease; }

/* ORDER TABLE */
.order-table { width:100%; border-collapse:collapse; }
.order-table th { text-align:left; padding:9px 10px; font-size:0.6rem; letter-spacing:2px; text-transform:uppercase; color:rgba(212,160,23,0.55); border-bottom:1px solid rgba(212,160,23,0.08); }
.order-table td { padding:13px 10px; border-bottom:1px solid rgba(255,255,255,0.03); font-size:0.82rem; vertical-align:middle; }
.item-name { color:var(--cream); font-weight:600; }
.item-desc { color:rgba(255,248,231,0.38); font-size:0.68rem; margin-top:3px; }
.item-price { color:var(--gold); font-weight:700; font-size:0.88rem; }

/* TOTALS */
.totals-section { border-top:1px solid rgba(212,160,23,0.12); padding-top:18px; margin-top:5px; }
.total-row { display:flex; justify-content:space-between; padding:7px 0; font-size:0.82rem; color:rgba(255,248,231,0.58); }
.total-row.grand { font-size:1.1rem; font-weight:800; color:var(--gold); border-top:1px solid rgba(212,160,23,0.2); margin-top:8px; padding-top:13px; text-shadow:0 0 15px rgba(212,160,23,0.4); }

/* SQUARE CARD CONTAINER */
#card-container {
  min-height:90px;
  padding:14px;
  background:rgba(255,255,255,0.03);
  border:1px solid rgba(212,160,23,0.18);
  border-radius:10px;
  margin-bottom:6px;
  transition:border-color 0.3s;
}
#card-container:focus-within { border-color:var(--gold); box-shadow:0 0 18px rgba(212,160,23,0.12); }
.card-info-note { font-size:0.62rem; color:rgba(255,248,231,0.32); letter-spacing:1px; text-align:center; margin-bottom:4px; }
.sq-loading { text-align:center; color:rgba(212,160,23,0.5); font-size:0.75rem; padding:20px; }

/* PAY BUTTON */
.pay-btn {
  width:100%; padding:20px; margin-top:16px;
  background:linear-gradient(135deg,var(--gold),var(--gold-light),var(--gold));
  background-size:200% 100%;
  color:var(--dark); font-family:'Montserrat',sans-serif;
  font-size:0.95rem; font-weight:800; letter-spacing:3px; text-transform:uppercase;
  border:none; border-radius:14px; cursor:pointer;
  box-shadow:0 8px 35px rgba(212,160,23,0.4);
  transition:all 0.3s; position:relative; overflow:hidden;
}
.pay-btn:hover:not(:disabled) { transform:translateY(-3px); box-shadow:0 14px 45px rgba(212,160,23,0.6); }
.pay-btn:disabled { opacity:0.55; cursor:not-allowed; transform:none; }
.pay-btn::after { content:''; position:absolute; top:-50%; left:-60%; width:40%; height:200%; background:rgba(255,255,255,0.22); transform:skewX(-25deg); transition:left 0.5s; }
.pay-btn:hover:not(:disabled)::after { left:130%; }
.pay-note { text-align:center; margin-top:12px; color:rgba(255,248,231,0.38); font-size:0.68rem; line-height:1.8; }

/* ERROR MSG */
.pay-error { background:rgba(255,69,0,0.12); border:1px solid rgba(255,69,0,0.3); border-radius:8px; padding:12px 16px; color:#ff7043; font-size:0.78rem; margin-top:10px; display:none; }
.pay-error.show { display:block; }

/* SUMMARY SIDEBAR */
.summary-sticky { position:sticky; top:85px; }
.summary-mini-item { display:flex; justify-content:space-between; padding:10px 0; border-bottom:1px solid rgba(255,255,255,0.04); font-size:0.8rem; }
.summary-mini-item:last-child { border-bottom:none; }
.summary-name { color:var(--cream); }
.summary-price { color:var(--gold); font-weight:700; }

/* SUCCESS STATE */
#successState { display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(10,0,5,0.97); z-index:3000; align-items:center; justify-content:center; padding:20px; }
#successState.show { display:flex; }
.success-box { background:var(--brown); border:1px solid var(--gold); border-radius:22px; padding:50px 40px; text-align:center; max-width:480px; width:100%; box-shadow:0 0 60px rgba(212,160,23,0.25); animation:successPop 0.4s ease; }
@keyframes successPop { 0%{transform:scale(0.85);opacity:0} 100%{transform:scale(1);opacity:1} }
.success-icon { font-size:4rem; margin-bottom:16px; animation:iconBounce 0.6s ease 0.3s both; }
@keyframes iconBounce { 0%{transform:scale(0)} 60%{transform:scale(1.2)} 100%{transform:scale(1)} }
.success-box h2 { font-family:'Playfair Display',serif; color:var(--gold); font-size:2.2rem; margin-bottom:10px; text-shadow:0 0 30px rgba(212,160,23,0.5); }
.success-box p { color:rgba(255,248,231,0.7); line-height:1.8; margin-bottom:10px; }
.order-num { font-family:'Playfair Display',serif; font-size:1.6rem; color:var(--red-fire); font-weight:700; margin:15px 0; }
.success-time { display:inline-block; background:rgba(255,69,0,0.12); border:1px solid rgba(255,69,0,0.3); border-radius:8px; padding:10px 20px; color:#ff7043; font-weight:700; font-size:0.88rem; margin:10px 0 22px; }
.success-btn { padding:14px 34px; background:linear-gradient(135deg,var(--gold),var(--gold-light)); color:var(--dark); font-family:'Montserrat',sans-serif; font-weight:800; font-size:0.78rem; letter-spacing:2px; text-transform:uppercase; border:none; border-radius:30px; cursor:pointer; text-decoration:none; display:inline-block; box-shadow:0 8px 25px rgba(212,160,23,0.35); }
.success-btn:hover { transform:translateY(-2px); box-shadow:0 12px 35px rgba(212,160,23,0.55); }

/* FOOTER */
.footer { background:#050005; border-top:1px solid rgba(212,160,23,0.12); padding:55px 20px 40px; text-align:center; position:relative; z-index:1; }
.footer-inner { max-width:800px; margin:0 auto; }
.footer-logo { font-family:'Dancing Script',cursive; font-size:2.4rem; color:var(--gold); margin-bottom:6px; text-shadow:0 0 25px rgba(212,160,23,0.35); }
.footer-tagline { color:rgba(255,248,231,0.38); font-size:0.72rem; letter-spacing:2px; text-transform:uppercase; margin-bottom:22px; }
.social-links { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin-bottom:22px; }
.social-btn { padding:9px 18px; background:rgba(212,160,23,0.07); border:1px solid rgba(212,160,23,0.18); color:rgba(255,248,231,0.65); border-radius:25px; text-decoration:none; font-size:0.68rem; letter-spacing:1px; transition:all 0.3s; }
.social-btn:hover { background:rgba(212,160,23,0.18); color:var(--gold); }
.footer-divider { height:1px; background:rgba(212,160,23,0.08); margin:18px 0; }
.footer-contact { color:rgba(255,248,231,0.42); font-size:0.78rem; line-height:2; }
.footer-copy { color:rgba(255,248,231,0.22); font-size:0.68rem; letter-spacing:1px; }

/* PWA INSTALL BUTTON */
#pwaInstallBtn {
  position:fixed; bottom:28px; right:28px; z-index:9999;
  padding:13px 22px; border:none; border-radius:50px;
  background:linear-gradient(135deg,var(--gold),var(--gold-light));
  color:var(--dark); font-family:'Montserrat',sans-serif;
  font-weight:800; font-size:0.72rem; letter-spacing:1.5px; text-transform:uppercase;
  cursor:pointer; display:none;
  box-shadow:0 0 0 3px rgba(212,160,23,0.25), 0 8px 30px rgba(212,160,23,0.5);
  animation:pwaGlow 2s ease-in-out infinite;
  transition:transform 0.2s, box-shadow 0.2s;
}
#pwaInstallBtn:hover { transform:translateY(-3px); box-shadow:0 0 0 4px rgba(212,160,23,0.4), 0 12px 40px rgba(212,160,23,0.7); }
@keyframes pwaGlow {
  0%,100% { box-shadow:0 0 0 3px rgba(212,160,23,0.25), 0 8px 30px rgba(212,160,23,0.5); }
  50%      { box-shadow:0 0 0 6px rgba(212,160,23,0.15), 0 8px 40px rgba(212,160,23,0.75); }
}
</style>
</head>
<body>

<!-- Fire/Ember Particles -->
<div id="particles"></div>

<!-- Nav -->
<nav class="main-nav">
  <a href="kekesinternational.html" class="nav-logo">Keke's International</a>
  <div class="nav-links">
    <a href="kekesinternational.html">Home</a>
    <a href="kekesinternational-menu.html">Menu</a>
    <a href="kekesinternational-catering.html">Catering</a>
    <a href="kekesinternational-events.html">Events</a>
    <a href="kekesinternational-grand-opening.html">ğŸ‰ Reopening</a>
    <a href="kekesinternational-gallery.html">Gallery</a>
    <a href="kekesinternational-vip.html">VIP</a>
    <a href="kekesinternational-about.html">About</a>
    <a href="kekesinternational-contact.html">Contact</a>
    <a href="kekesinternational-tracker.html">Track Order</a>
    <a href="mississippi-soul-food.html" style="color:#D4AF37;font-size:0.8rem;font-weight:700;padding:6px 12px;border:1px solid #D4AF37;border-radius:20px;text-decoration:none;white-space:nowrap;">ğŸ– Mississippi Soul</a>
  </div>
  <a href="kekesinternational-menu.html" class="nav-order-btn">ğŸ½ï¸ Order Now</a>
</nav>

<!-- Hero -->
<div class="checkout-hero">
  <h1>ğŸ›’ Checkout</h1>
  <p>Secure Payment Â· Your Order in 35â€“45 Min</p>
</div>

<!-- Square Banner -->
<div class="square-banner" style="max-width:900px;margin:0 auto 28px;position:relative;z-index:1;">
  <span class="sq-badge">ğŸ’³ Square Secure</span>
  <span class="sq-text">Payments processed securely via Square â€” your card data never touches our servers</span>
</div>

<!-- Main Grid -->
<div class="checkout-grid">

  <!-- LEFT COLUMN -->
  <div class="left-col">

    <!-- Delivery / Pickup Toggle -->
    <div class="card">
      <div class="card-title"><span>ğŸšš</span> Delivery or Pickup?</div>
      <div class="delivery-toggle">
        <button class="toggle-btn active" id="deliveryBtn" onclick="setMode('delivery')">ğŸšš Delivery</button>
        <button class="toggle-btn" id="pickupBtn" onclick="setMode('pickup')">ğŸƒ Pickup</button>
      </div>

      <!-- Address (delivery only) -->
      <div id="address-section" style="max-height:600px;opacity:1;">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Street Address</label>
            <input type="text" class="form-input" id="address" placeholder="123 Main St">
          </div>
          <div class="form-group">
            <label class="form-label">Apt / Suite</label>
            <input type="text" class="form-input" placeholder="Apt 2B">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">City</label>
            <input type="text" class="form-input" placeholder="Moreno Valley">
          </div>
          <div class="form-group">
            <label class="form-label">ZIP Code</label>
            <input type="text" class="form-input" placeholder="92551">
          </div>
        </div>
      </div>

      <!-- Contact Info (always visible) -->
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Your Name</label>
          <input type="text" class="form-input" id="custName" placeholder="Full Name">
        </div>
        <div class="form-group">
          <label class="form-label">Phone Number</label>
          <input type="tel" class="form-input" id="custPhone" placeholder="(555) 000-0000">
        </div>
      </div>
      <div class="form-group">
        <label class="form-label">Email Address</label>
        <input type="email" class="form-input" id="custEmail" placeholder="you@example.com">
      </div>
      <div class="form-group">
        <label class="form-label">Special Instructions</label>
        <textarea class="form-input" id="instructions" placeholder="Extra sauce, no onions, ring doorbell..."></textarea>
      </div>
    </div>

    <!-- Order Summary (demo items) -->
    <div class="card">
      <div class="card-title"><span>ğŸ½ï¸</span> Your Order</div>
      <table class="order-table">
        <thead>
          <tr>
            <th>Item</th>
            <th>Qty</th>
            <th>Price</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><div class="item-name">Jerk Chicken</div><div class="item-desc">Marinated 24hrs Â· scotch bonnet fire ğŸ”¥</div></td>
            <td style="color:var(--cream);font-weight:700;">Ã—2</td>
            <td class="item-price">$37.98</td>
          </tr>
          <tr>
            <td><div class="item-name">Rice &amp; Peas</div><div class="item-desc">Coconut milk, kidney beans</div></td>
            <td style="color:var(--cream);font-weight:700;">Ã—1</td>
            <td class="item-price">$4.99</td>
          </tr>
        </tbody>
      </table>
      <div class="totals-section">
        <div class="total-row"><span>Subtotal</span><span>$42.97</span></div>
        <div class="total-row" id="deliveryFeeRow"><span>ğŸšš Delivery Fee</span><span>$3.99</span></div>
        <div class="total-row grand"><span>TOTAL</span><span id="grandTotal">$46.96</span></div>
      </div>
    </div>

    <!-- Square Payment Card -->
    <div class="card">
      <div class="card-title"><span>ğŸ’³</span> Payment</div>
      <p class="card-info-note">ğŸ”’ Secured by Square Â· SSL Encrypted Â· Sandbox Mode</p>
      <div id="card-container"><div class="sq-loading">â³ Loading secure payment formâ€¦</div></div>
      <div class="pay-error" id="payError"></div>
      <button class="pay-btn" id="payBtn" onclick="handlePayment()" disabled>ğŸ”¥ PAY NOW â€” $46.96</button>
      <p class="pay-note">Your card is charged securely via Square.<br>Receipt sent to your email Â· Estimated 35â€“45 min</p>
    </div>

  </div><!-- /left-col -->

  <!-- RIGHT COLUMN â€” Sticky Summary -->
  <div class="right-col">
    <div class="summary-sticky">
      <div class="card">
        <div class="card-title"><span>ğŸ“‹</span> Order Summary</div>
        <div class="summary-mini-item">
          <span class="summary-name">2Ã— Jerk Chicken</span>
          <span class="summary-price">$37.98</span>
        </div>
        <div class="summary-mini-item">
          <span class="summary-name">1Ã— Rice &amp; Peas</span>
          <span class="summary-price">$4.99</span>
        </div>
        <div style="border-top:1px solid rgba(212,160,23,0.12);margin-top:14px;padding-top:14px;">
          <div class="total-row" style="font-size:0.78rem;"><span>Subtotal</span><span>$42.97</span></div>
          <div class="total-row" id="summaryDelivery" style="font-size:0.78rem;"><span>Delivery</span><span>$3.99</span></div>
          <div class="total-row grand"><span>Total</span><span>$46.96</span></div>
        </div>
        <div style="margin-top:18px;padding:14px;background:rgba(212,160,23,0.05);border-radius:10px;text-align:center;">
          <div style="font-size:0.68rem;color:rgba(255,248,231,0.45);letter-spacing:1px;text-transform:uppercase;margin-bottom:5px;">Questions? Call or Text</div>
          <a href="tel:9516305410" style="color:var(--gold);font-size:1.15rem;font-weight:800;text-decoration:none;">ğŸ“ (951) 630-5410</a>
        </div>
        <div style="margin-top:12px;padding:11px;background:rgba(46,204,113,0.07);border:1px solid rgba(46,204,113,0.18);border-radius:8px;text-align:center;">
          <div style="font-size:0.72rem;color:#2ecc71;">ğŸŒ™ Open Till 4AM Â· Order Any Time</div>
        </div>
      </div>
    </div>
  </div>

</div><!-- /checkout-grid -->

<!-- SUCCESS STATE OVERLAY -->
<div id="successState">
  <div class="success-box">
    <div class="success-icon">ğŸ‰</div>
    <h2>Order Confirmed!</h2>
    <p>Your payment was accepted. Chef Keke is firing up the grill!</p>
    <div class="order-num" id="successOrderNum">#KK-00000</div>
    <div class="success-time">â±ï¸ Estimated Time: 35â€“45 Minutes</div>
    <p style="font-size:0.78rem;color:rgba(255,248,231,0.45);margin-bottom:20px;">A confirmation will be sent to your email &amp; phone.</p>
    <a href="kekesinternational-tracker.html" class="success-btn">Track My Order ğŸ”¥</a>
  </div>
</div>

<!-- Footer -->
<footer class="footer">
  <div class="footer-inner">
    <div class="footer-logo">Keke's</div>
    <p class="footer-tagline">International Food Spot Â· Every Meal Cooked with Love</p>
    <div class="social-links">
      <a href="https://www.instagram.com/kekesinternationalfoodspot" target="_blank" class="social-btn">ğŸ“¸ @KekesInternational</a>
      <a href="https://www.instagram.com/longbeach_kekes/" target="_blank" class="social-btn">ğŸ“¸ @LongBeach_Kekes</a>
      <a href="kekesinternational-catering.html" class="social-btn">ğŸ½ï¸ Book Catering</a>
      <a href="kekesinternational-events.html" class="social-btn">ğŸ‰ Events</a>
    </div>
    <div class="footer-divider"></div>
    <p class="footer-contact">ğŸ“ (951) 630-5410 Â· Call or Text Chef Keke Chanel<br>ğŸšš Online Orders Only Â· No Walk-Up Â· No Dine-In<br>ğŸ“ Moreno Valley Â· Long Beach Â· Orange County (Coming Soon)<br>ğŸŒ™ Open Till 4AM</p>
    <div class="footer-divider"></div>
    <p class="footer-copy">Â© 2026 Keke's International Food Spot Â· Grand Reopening March 2026 ğŸ‰</p>
  </div>
</footer>

<!-- PWA Install Button -->
<button id="pwaInstallBtn">ğŸ“² Install App</button>

<script>
// ============================================================
// SQUARE PAYMENT INTEGRATION
// App ID: sq0idp-huwaT_W5n-rd6iH9yo5dEw (SANDBOX - swap for production key when going live)
// Location ID: Replace YOUR_LOCATION_ID with actual Square Location ID
// To find Location ID: Go to squareup.com/dashboard/locations > click your location > copy ID from URL
// Production App ID will start with sq0idp- instead of sandbox-sq0idb-
// ============================================================

const SQUARE_APP_ID  = 'sq0idp-huwaT_W5n-rd6iH9yo5dEw';
const SQUARE_LOC_ID  = 'YOUR_LOCATION_ID'; // âš ï¸ REPLACE with real Location ID from Square Dashboard

let squareCard = null;

// â”€â”€ Init Square SDK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function initSquare() {
  if (!window.Square) {
    document.getElementById('card-container').innerHTML =
      '<div class="sq-loading" style="color:#ff7043;">âš ï¸ Square SDK failed to load. Check your connection.</div>';
    return;
  }

  try {
    const payments = Square.payments(SQUARE_APP_ID, SQUARE_LOC_ID);

    squareCard = await payments.card({
      style: {
        '.input-container': { borderColor: 'rgba(212,160,23,0.25)', borderRadius: '8px' },
        '.input-container.is-focus': { borderColor: '#D4A017' },
        '.message-text': { color: '#ff7043' },
        input: { color: '#FFF8E7', fontFamily: "'Montserrat', sans-serif" },
        'input::placeholder': { color: 'rgba(255,248,231,0.25)' },
        '.input-container.is-error': { borderColor: '#FF4500' }
      }
    });

    await squareCard.attach('#card-container');

    // Enable the pay button once card form is ready
    document.getElementById('payBtn').disabled = false;
    console.log('âœ… Square card form initialised');
  } catch (err) {
    console.error('Square init error:', err);
    document.getElementById('card-container').innerHTML =
      `<div class="sq-loading" style="color:#ff7043;">âš ï¸ Payment form error: ${err.message}</div>`;
  }
}

// â”€â”€ Handle Payment â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function handlePayment() {
  if (!squareCard) return;

  const name  = document.getElementById('custName').value.trim();
  const phone = document.getElementById('custPhone').value.trim();
  if (!name || !phone) {
    showError('Please enter your name and phone number before paying.');
    return;
  }

  const btn = document.getElementById('payBtn');
  btn.disabled = true;
  btn.textContent = 'â³ Processingâ€¦';
  hideError();

  try {
    const result = await squareCard.tokenize();

    if (result.status === 'OK') {
      // â”€â”€ SUCCESS â”€â”€
      // In production: send result.token to your backend to charge the card via Square Payments API
      console.log('âœ… Payment token received:', result.token);
      showOrderConfirmation(result.token);
    } else {
      // â”€â”€ TOKENISATION ERROR â”€â”€
      const msgs = (result.errors || []).map(e => e.message).join(' Â· ') || 'Card tokenisation failed.';
      showError(msgs);
      btn.disabled = false;
      btn.textContent = 'ğŸ”¥ PAY NOW â€” $46.96';
    }
  } catch (err) {
    console.error('Payment error:', err);
    showError('An unexpected error occurred. Please try again.');
    btn.disabled = false;
    btn.textContent = 'ğŸ”¥ PAY NOW â€” $46.96';
  }
}

// â”€â”€ Show Order Confirmation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showOrderConfirmation(token) {
  // Generate a random order number
  const orderNum = 'KK-' + Math.floor(10000 + Math.random() * 90000);
  document.getElementById('successOrderNum').textContent = '#' + orderNum;

  const success = document.getElementById('successState');
  success.classList.add('show');

  // Trigger extra particles for the celebration
  burstEmbers();
}

// â”€â”€ Error helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showError(msg) {
  const el = document.getElementById('payError');
  el.textContent = 'âš ï¸ ' + msg;
  el.classList.add('show');
}
function hideError() {
  document.getElementById('payError').classList.remove('show');
}

// â”€â”€ Delivery / Pickup Toggle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let isDelivery = true;
function setMode(mode) {
  isDelivery = mode === 'delivery';
  document.getElementById('deliveryBtn').classList.toggle('active', isDelivery);
  document.getElementById('pickupBtn').classList.toggle('active', !isDelivery);
  const addrSection    = document.getElementById('address-section');
  const feeRow         = document.getElementById('deliveryFeeRow');
  const summaryDelivery = document.getElementById('summaryDelivery');

  if (isDelivery) {
    addrSection.style.maxHeight = '600px';
    addrSection.style.opacity   = '1';
    feeRow.style.display = 'flex';
    summaryDelivery.style.display = 'flex';
    document.getElementById('grandTotal').textContent = '$46.96';
    document.getElementById('payBtn').textContent     = 'ğŸ”¥ PAY NOW â€” $46.96';
  } else {
    addrSection.style.maxHeight = '0';
    addrSection.style.opacity   = '0';
    feeRow.style.display = 'none';
    summaryDelivery.style.display = 'none';
    document.getElementById('grandTotal').textContent = '$42.97';
    document.getElementById('payBtn').textContent     = 'ğŸ”¥ PAY NOW â€” $42.97';
  }
}

// â”€â”€ Fire / Ember Particles â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const pContainer = document.getElementById('particles');
const FIRE_COLORS = ['#D4A017','#FF4500','#ff7c00','#F5D76E','#ff2200'];

function createEmber() {
  const s = document.createElement('div');
  s.className = 'ember';
  const drift = (Math.random() * 80 - 40) + 'px';
  s.style.cssText = `
    left:${Math.random() * 100}%;
    --drift:${drift};
    animation-duration:${10 + Math.random() * 14}s;
    animation-delay:${Math.random() * 8}s;
    width:${1 + Math.random() * 3}px;
    height:${1 + Math.random() * 3}px;
    background:${FIRE_COLORS[Math.floor(Math.random()*FIRE_COLORS.length)]};
    box-shadow:0 0 ${2+Math.random()*4}px currentColor;
  `;
  pContainer.appendChild(s);
}

function burstEmbers() {
  for (let i = 0; i < 25; i++) {
    const s = document.createElement('div');
    s.className = 'ember';
    const drift = (Math.random() * 200 - 100) + 'px';
    s.style.cssText = `
      left:${30 + Math.random() * 40}%;
      --drift:${drift};
      animation-duration:${3 + Math.random() * 4}s;
      animation-delay:${Math.random() * 0.5}s;
      width:${2 + Math.random() * 4}px;
      height:${2 + Math.random() * 4}px;
      background:${FIRE_COLORS[Math.floor(Math.random()*FIRE_COLORS.length)]};
      box-shadow:0 0 6px currentColor;
    `;
    pContainer.appendChild(s);
    setTimeout(() => s.remove(), 8000);
  }
}

for (let i = 0; i < 40; i++) createEmber();

// â”€â”€ PWA Install â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let installPrompt = null;
const pwaBtn = document.getElementById('pwaInstallBtn');

window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  installPrompt = e;
  pwaBtn.style.display = 'block';
});

pwaBtn.addEventListener('click', async () => {
  if (!installPrompt) return;
  installPrompt.prompt();
  const { outcome } = await installPrompt.userChoice;
  if (outcome === 'accepted') pwaBtn.style.display = 'none';
  installPrompt = null;
});

// â”€â”€ Boot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
initSquare();
</script>
</body>
</html>
